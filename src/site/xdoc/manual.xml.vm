<?xml version="1.0" encoding="UTF-8"?>
<document xmlns="http://maven.apache.org/XDOC/2.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/XDOC/2.0 http://maven.apache.org/xsd/xdoc-2.0.xsd">

    <properties>
        <title>IDS Plugin Interface</title>
    </properties>

    <body>

        <section name="The interface">
            <p>
                IDS plugins have three interfaces to implement. Please see the
                <a href="apidocs/index.html">Javadoc</a>
                for details. The IDS has a two level storage model with main storage and an optional archive storage. The main storage deals with
                individual data files whereas the archive storage deals with zip files holding all the datafiles of a dataset. In addition the
                ZipMapperInterface must be implemented to define the structure of the Zip file which is used for downloads and for archive storage.
            </p>


            <p>
                There are a number of abstract partial implementations provided - for example
                <a href="apidocs/org/icatproject/ids/plugin/MainStorageWithoutArchive.html">MainStorageWithoutArchive</a>
                and
                <a href="apidocs/org/icatproject/ids/plugin/MainStorageWithoutArchiveReadOnly.html">MainStorageWithoutArchiveReadOnly</a>
                which you may extend. These provide dummy implementations of calls which are not made in specific deployments.
            </p>

        </section>

        <section name="Packaging">
            <p>
                For Glassfish deployment the IDS expects to find its plugins in lib/applibs below the domain directory. The plugins must be packaged
                will all dependencies - because of the way the Glassfish classloader works and after deployment Glassfish must be redeployed. Please
                see the
                <a href="/mvn/site/ids/storage_file">file storage plugin</a>
                as an example of how to do it.
            </p>
        </section>
    </body>
</document>
            
